<!DOCTYPE html>
<html lang="en">

<head>
	<title>COVID-19 Dashboard</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta charset='utf-8'>
	<link rel="stylesheet" type="text/css" href="../css/main.css">
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
	<script async defer
		src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAKYTddYXNo--yWORKVOwjn_WruRABvj8g&callback=initMap">
	</script>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
		integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>

<body>

	<!-- Navbar-->
	<nav class="navbar navbar-expand-lg navbar-light bg-light static-top">
		<div class="container">
			<a id="usergreet" class="navbar-brand" href="#"></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
				aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item active loggedIn">
						<a class="nav-link" href="main_page.html">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="news.html">News</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="aboutus.html">About</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="faq.html">FAQ</a>
					</li>
					<li class="nav-item loggedIn">
						<a class="nav-link" href="simulation.html" id="signup">Simulation</a>
					</li>
					<li class="nav-item loggedIn">
						<a class="nav-link" href="#" id="logout">Log Out</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>



	<!-- Sidebar-->
	<div class="main-wrap">
		<input id="slide-sidebar" type="checkbox" role="button" />
		<label for="slide-sidebar"><span id="w"></span></label>
		<div class="sidebar">

			<!-- <h2>Charts -->

			<div id="chartContainer1" style="height: 350px; width: 100%;"></div>
			<div id="chartContainer2" style="height: 350px; width: 100%;"></div>
			<div id="chartContainer3" style="height: 350px; width: 100%;"></div>

			<!--  DATABSE FORM FOR CRUD-->

			<!-- </h2> -->
		</div>

		<div class="portfolio">
			<div id="map"></div>
			<div id="ff" style="margin-left: 1%;margin-top: 10%;">
				<br>
				<form id="addWash">
					<!-- <span><b> Creates a document in database </b></span><br> -->
					<span>Add today's hand wash count </span>
					<input type="text" id="fname" name="handwash">
					<!-- <input type="number"> -->
					<input type="submit" value="Submit">
				</form>
				<Span>Your hand wash count: </Span> <span id='count'></span>
				<button onclick="getWashCount()">Get</button>
				<!-- <form id="update">
					<span><b> Updates a field in a document in database </b></span><br><span>Update hand wash
						count</span>
					<input type="text" id="fname" name="newwash">
					<input type="submit" value="Submit">
				</form> -->
				<br><span>Delete your hand wash count </span>
				<button id="del">Delete</button>
				<p id = "board">TODAY'S TOP 5 IN HAND WASHING</p>
			</div>

			<!-- LEADERBOARD -->
			
			<table class="table" id="leaderboard">
			
			</table>
		</div>

	</div>



	<!-- Charts-->

	<script>
		// document.querySelector("label").onclick = function () {
		window.onload = function () {
			var Points = [];
			var chart1 = new CanvasJS.Chart("chartContainer1", {
				animationEnabled: true,
				title: {
					text: "Confirmed Cases, Recovered and Death by Health Authority",
					fontFamily: "arial black",
					fontColor: "#695A42"
				},
				axisX: {
					interval: 1,
				},
				axisY: {
					valueFormatString: "#0",
					gridColor: "#B6B1A8",
					tickColor: "#B6B1A8"
				},
				// toolTip: {
				// 	shared: true,
				// 	content: toolTipContent
				// },
				data: [{
						type: "stackedColumn",
						showInLegend: true,
						color: "grey",
						name: "Death",
						dataPoints: [{
								label: "Fraser",
								y: 44
							},
							{
								label: "Vancouver Coastal",
								y: 80
							},
							{
								label: "Interior",
								y: 2
							},
							{
								label: "Vancouver Island",
								y: 5
							},
							{
								label: "Northern",
								y: 0
							},

						]
					},
					{
						type: "stackedColumn",
						showInLegend: true,
						name: "Recovered",
						color: "#5a8c4c",
						dataPoints: [{
								label: "Fraser",
								y: 810
							},
							{
								label: "Vancouver Coastal",
								y: 681
							},
							{
								label: "Interior",
								y: 175
							},
							{
								label: "Vancouver Island",
								y: 115
							},
							{
								label: "Northern",
								y: 51
							},
						]
					},
					{
						type: "stackedColumn",
						showInLegend: true,
						name: "Confirmed",
						color: "#d88c4c",
						dataPoints: [{
								label: "Fraser",
								y: 1124
							},
							{
								label: "Vancouver Coastal",
								y: 874
							},
							{
								label: "Interior",
								y: 180
							},
							{
								label: "Vancouver Island",
								y: 125
							},
							{
								label: "Northern",
								y: 57
							},
						]
					},
				]
			});


			chart1.render();
			var chart2 = new CanvasJS.Chart("chartContainer2", {
				animationEnabled: true,
				theme: "light2",
				title: {
					text: "Daliy New Cases",
					fontFamily: "arial black",
					fontColor: "#695A42"
				},
				axisY: {
					title: "Case"
				},
				data: [{
					type: "column",

					dataPoints: Points


				}]
			});
			$.getJSON("../PBage.json", addData);

			function addData(data) {
				var total = 1;
				// console.log(data.length);
				for (var i = 1; i < data.length; i++) {
					if (data[i - 1].Reported_Date == data[i].Reported_Date) {
						total++;
						//  console.log("good");
					} else {
						Points.push({
							x: new Date(data[i - 1].Reported_Date),
							y: total
						});
						total = 1;
					}

				}
				chart2.render();
			}



			var chart3 = new CanvasJS.Chart("chartContainer3", {
				animationEnabled: true,
				theme: "light2", // "light1", "light2", "dark1", "dark2"
				title: {
					text: "Distribution by Age"
				},
				axisY: {

				},
				data: [{
					type: "column",
					// showInLegend: true, 
					// legendMarkerColor: "grey",
					// legendText: "MMbbl = one million barrels",
					dataPoints: [{
							y: 17,
							label: "<10"
						},
						{
							y: 37,
							label: "10-19"
						},
						{
							y: 209,
							label: "20-29"
						},
						{
							y: 383,
							label: "30-39"
						},
						{
							y: 339,
							label: "40-49"
						},
						{
							y: 437,
							label: "50-59"
						},
						{
							y: 299,
							label: "60-69"
						},
						{
							y: 211,
							label: "70-79"
						},
						{
							y: 182,
							label: "80-89"
						},
						{
							y: 105,
							label: "89+"
						}

					]
				}]
			});
			chart3.render();
		}
	</script>

	<script>
		var map;

		function initMap() {
			map = new google.maps.Map(document.getElementById('map'), {
				center: {
					lat: 49.283832198,
					lng: -123.119332856
				},
				zoom: 15
			});
		}

	</script>
	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
		integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
	</script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
		integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
	</script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
		integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
	</script>

	<!-- Jquery library -->
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>


	<!-- Firebase scripts-->
	<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/7.9.2/firebase-firestore.js"></script>
	<script src="https://cdn.firebase.com/libs/firebaseui/3.5.2/firebaseui.js"></script>
	<script src="../scripts/firebaseapi.js"> </script>

	<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
	<script src="../scripts/Pandemic.js"></script>
	<script src="../scripts/main.js"></script>
	<script src="../scripts/common.js"></script>

</body>

</html>